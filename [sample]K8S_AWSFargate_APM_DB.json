{"title":"[sample] K8S/AWS Fargate/APM/DB","description":"\n","widgets":[{"id":2267548884472136,"definition":{"title":"Summary","type":"group","background_color":"vivid_green","show_title":true,"layout_type":"ordered","widgets":[{"id":5082152045957294,"definition":{"title":"TPS","title_size":"16","title_align":"left","time":{"live_span":"15m"},"type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":450},{"comparator":">=","palette":"white_on_yellow","value":450},{"comparator":">=","palette":"white_on_red","value":700}],"response_format":"scalar","queries":[{"query":"sum:trace.servlet.request.hits{*}.as_rate()","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"autoscale":true,"precision":0,"timeseries_background":{"type":"bars"}},"layout":{"x":0,"y":0,"width":1,"height":1}},{"id":4439522187158666,"definition":{"title":"Memory","type":"query_value","requests":[{"formulas":[{"formula":"query2"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":60},{"comparator":">","palette":"white_on_yellow","value":60},{"comparator":">","palette":"white_on_red","value":80}],"response_format":"scalar","queries":[{"query":"sum:aws.ecs.service.memory_utilization{*}","data_source":"metrics","name":"query2","aggregator":"last"}]}],"autoscale":true,"precision":0,"timeseries_background":{"type":"bars"}},"layout":{"x":1,"y":0,"width":1,"height":1}},{"id":3987842600274488,"definition":{"title":"CPU","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":45},{"comparator":">","palette":"white_on_yellow","value":45},{"comparator":">","palette":"white_on_red","value":60}],"response_format":"scalar","queries":[{"query":"avg:aws.ecs.service.cpuutilization{*}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"autoscale":true,"precision":0,"timeseries_background":{"type":"area"}},"layout":{"x":2,"y":0,"width":1,"height":1}},{"id":373258582286008,"definition":{"title":"Latency","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":150},{"comparator":">","palette":"white_on_yellow","value":150},{"comparator":">","palette":"white_on_red","value":300}],"response_format":"scalar","queries":[{"query":"p50:trace.servlet.request{*}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"autoscale":true,"precision":0,"timeseries_background":{"type":"area"}},"layout":{"x":3,"y":0,"width":1,"height":1}},{"id":872968320253266,"definition":{"title":"Busy Thread","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":300},{"comparator":">","palette":"white_on_yellow","value":300},{"comparator":">","palette":"white_on_red","value":600}],"response_format":"scalar","queries":[{"query":"sum:tomcat.threads.busy{*}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"autoscale":true,"custom_unit":"개","precision":0,"timeseries_background":{"type":"bars"}},"layout":{"x":4,"y":0,"width":1,"height":1}},{"id":8785070687646258,"definition":{"title_size":"13","title_align":"left","type":"manage_status","summary_type":"monitors","display_format":"countsAndList","color_preference":"background","hide_zero_counts":false,"show_last_triggered":false,"show_priority":true,"query":"","sort":"status,desc","count":50,"start":0},"layout":{"x":5,"y":0,"width":3,"height":2}},{"id":2249049509786936,"definition":{"title":"CoffeeHouse SLA","title_size":"16","title_align":"left","type":"slo","view_type":"detail","time_windows":["7d"],"slo_id":"3f3a59d1b1ce5c0ab9344830e588c6fb","show_error_budget":true,"view_mode":"overall","global_time_target":"0"},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":7437042151667402,"definition":{"title":"Running Task 수","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":25},{"comparator":"<=","palette":"white_on_yellow","value":36},{"comparator":">","palette":"white_on_red","value":36}],"response_format":"scalar","queries":[{"query":"sum:aws.ecs.service.running{*}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"autoscale":true,"custom_unit":"개","precision":2,"timeseries_background":{"type":"bars"}},"layout":{"x":0,"y":1,"width":1,"height":1}},{"id":3943742439139236,"definition":{"title":"Error Rate","title_size":"16","title_align":"left","time":{"live_span":"15m"},"type":"query_value","requests":[{"formulas":[{"formula":"(query3 + query4) / (query1 + query2 + query3 + query4) * 100"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":0.02},{"comparator":">=","palette":"white_on_yellow","value":0.02},{"comparator":">=","palette":"white_on_red","value":0.1}],"response_format":"scalar","queries":[{"query":"sum:aws.applicationelb.httpcode_target_4xx{*}.as_count()","data_source":"metrics","name":"query3","aggregator":"sum"},{"query":"sum:aws.applicationelb.httpcode_target_5xx{*}.as_count()","data_source":"metrics","name":"query4","aggregator":"sum"},{"query":"sum:aws.applicationelb.httpcode_target_2xx{*}.as_count()","data_source":"metrics","name":"query1","aggregator":"sum"},{"query":"sum:aws.applicationelb.httpcode_target_3xx{*}.as_count()","data_source":"metrics","name":"query2","aggregator":"sum"}]}],"autoscale":false,"custom_unit":"%","precision":3,"timeseries_background":{"type":"bars"}},"layout":{"x":1,"y":1,"width":1,"height":1}},{"id":6721897227360938,"definition":{"title":"Error Count","title_size":"16","title_align":"left","time":{"live_span":"15m"},"type":"query_value","requests":[{"formulas":[{"formula":"default_zero(query4)"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":50},{"comparator":">=","palette":"white_on_yellow","value":50},{"comparator":">=","palette":"white_on_red","value":80}],"response_format":"scalar","queries":[{"query":"sum:trace.servlet.request.hits{http.status_code:5*}.as_count()","data_source":"metrics","name":"query4","aggregator":"sum"}]}],"autoscale":true,"custom_unit":"건","precision":3},"layout":{"x":2,"y":1,"width":1,"height":1}},{"id":5732948047999956,"definition":{"title":"응답시간","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query0"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":200},{"comparator":">","palette":"white_on_yellow","value":200},{"comparator":">","palette":"white_on_red","value":300}],"response_format":"scalar","queries":[{"query":"min:aws.applicationelb.target_response_time.average{*}","data_source":"metrics","name":"query0","aggregator":"last"}]}],"autoscale":true,"precision":0,"timeseries_background":{"type":"area"}},"layout":{"x":3,"y":1,"width":1,"height":1}},{"id":2447207025428910,"definition":{"title":"AvgThread","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1 / query2"}],"conditional_formats":[{"comparator":"<","palette":"white_on_green","value":50},{"comparator":">","palette":"white_on_yellow","value":80},{"comparator":">","palette":"white_on_red","value":100}],"response_format":"scalar","queries":[{"query":"sum:tomcat.threads.busy{*}","data_source":"metrics","name":"query1","aggregator":"last"},{"query":"sum:aws.ecs.service.running{*}","data_source":"metrics","name":"query2","aggregator":"last"}]}],"autoscale":true,"custom_unit":"개","precision":0,"timeseries_background":{"type":"bars"}},"layout":{"x":4,"y":1,"width":1,"height":1}}]},"layout":{"x":0,"y":0,"width":12,"height":3}},{"id":6811982777220544,"definition":{"title":"Kubernetes","type":"group","background_color":"purple","show_title":true,"layout_type":"ordered","widgets":[{"id":5276703189664684,"definition":{"title":"Number of nodes","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","palette":"green_on_white","value":0}],"response_format":"scalar","queries":[{"query":"sum:kubernetes_state.node.count{*}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"autoscale":false,"custom_links":[],"precision":0,"timeseries_background":{"type":"bars"}},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":920608872125518,"definition":{"title":"Total CPU","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","palette":"green_on_white","value":0}],"response_format":"scalar","queries":[{"query":"sum:kubernetes_state.node.cpu_capacity{*}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"autoscale":false,"custom_links":[],"precision":0,"timeseries_background":{"type":"bars"}},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":2271519952017554,"definition":{"title":"Memory utilization % per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"mem used pct","formula":"1 - query1"}],"response_format":"timeseries","queries":[{"query":"avg:system.mem.pct_usable{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false},"markers":[{"label":"y = 1","value":"y = 1","display_type":"error dashed"},{"label":"y = 0.8","value":"y = 0.8","display_type":"warning dashed"}],"custom_links":[]},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":5923187195867302,"definition":{"title":"CPU % utilization per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"100 - query1"}],"response_format":"timeseries","queries":[{"query":"avg:system.cpu.idle{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[{"label":"y = 100","value":"y = 100","display_type":"error dashed"},{"label":"y = 80","value":"y = 80","display_type":"warning dashed"}],"custom_links":[]},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":4108033794084160,"definition":{"title":"Nodes not ready","title_size":"16","title_align":"left","type":"query_value","requests":[{"conditional_formats":[{"comparator":">","palette":"white_on_red","value":0},{"comparator":"<=","palette":"green_on_white","value":0}],"response_format":"scalar","queries":[{"query":"sum:kubernetes_state.nodes.by_condition{*,status:true,*,!condition:ready}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"custom_links":[],"precision":0},"layout":{"x":4,"y":2,"width":4,"height":2}},{"id":7249593488423466,"definition":{"title":"Total memory","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"conditional_formats":[{"comparator":">","palette":"green_on_white","value":0}],"response_format":"scalar","queries":[{"query":"sum:kubernetes_state.node.memory_capacity{*}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"autoscale":true,"custom_links":[],"precision":0,"timeseries_background":{"type":"bars"}},"layout":{"x":8,"y":2,"width":4,"height":2}},{"id":4861837925275936,"definition":{"title":"Total Kubernetes CPU requests per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.cpu.requests{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]},"layout":{"x":0,"y":4,"width":4,"height":2}},{"id":1420171056448464,"definition":{"title":"Total Kubernetes memory requests per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.memory.requests{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]},"layout":{"x":4,"y":4,"width":4,"height":2}},{"id":8978565540110614,"definition":{"title":"Memory usage per node","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:kubernetes.memory.usage{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]},"layout":{"x":8,"y":4,"width":4,"height":2}}]},"layout":{"x":0,"y":3,"width":12,"height":7}},{"id":2284646564677612,"definition":{"title":"Fargate Metrics","type":"group","background_color":"blue","show_title":true,"layout_type":"ordered","widgets":[{"id":2835597864537104,"definition":{"title":"Desired Task","title_size":"16","title_align":"left","type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"query":"sum:aws.ecs.service.desired{*}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars"}},"layout":{"x":0,"y":0,"width":2,"height":2}},{"id":5042567310387684,"definition":{"title":"Pending Task 수","title_size":"16","title_align":"left","time":{"live_span":"15m"},"type":"query_value","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"query":"sum:aws.ecs.service.pending{*}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"autoscale":true,"precision":2,"timeseries_background":{"type":"bars"}},"layout":{"x":2,"y":0,"width":2,"height":2}},{"id":4166304185709580,"definition":{"title":"aws.ecs.service (desired/pending/running)","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"1h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query2"}],"response_format":"timeseries","queries":[{"query":"sum:aws.ecs.service.desired{*}.rollup(sum, 60)","data_source":"metrics","name":"query2"}],"style":{"palette":"purple","line_type":"solid","line_width":"thin"},"display_type":"bars"},{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"sum:aws.ecs.service.pending{*}.rollup(sum, 60)","data_source":"metrics","name":"query0"}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"sum:aws.ecs.service.running{*}.rollup(sum, 60)","data_source":"metrics","name":"query0"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[{"value":"y = 0","display_type":"error dashed"}]},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":3759385021795396,"definition":{"title":"aws.ecs.service (desired/pending/running)","show_legend":true,"legend_layout":"horizontal","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query2"}],"response_format":"timeseries","queries":[{"query":"sum:aws.ecs.service.desired{*}.rollup(sum, 60)","data_source":"metrics","name":"query2"}],"style":{"palette":"purple","line_type":"dotted","line_width":"thin"},"display_type":"line"},{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"sum:aws.ecs.service.pending{*}.rollup(sum, 60)","data_source":"metrics","name":"query0"}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"},{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"sum:aws.ecs.service.running{*}.rollup(sum, 60)","data_source":"metrics","name":"query0"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":678904571067940,"definition":{"title":"aws.ecs.service.cpuutilization","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:aws.ecs.service.cpuutilization{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":7819083649318226,"definition":{"title":"aws.ecs.service.memory_utilization","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query2"}],"response_format":"timeseries","queries":[{"query":"sum:aws.ecs.service.memory_utilization{*}","data_source":"metrics","name":"query2"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":2,"width":4,"height":2}},{"id":8050973292485700,"definition":{"title":"ecs.fargate.io.ops.write","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:ecs.fargate.io.ops.write{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":2,"width":4,"height":2}},{"id":4070443569272774,"definition":{"title":"ecs.fargate.io.ops.read","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:ecs.fargate.io.ops.read{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":4,"width":4,"height":2}},{"id":6998572466041312,"definition":{"title":"Average ingoing packets dropped by container","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:ecs.fargate.net.packet.in_dropped{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":4,"width":4,"height":2}},{"id":8614574776882074,"definition":{"title":"Average bytes sent per container","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:ecs.fargate.net.bytes_sent{*} by {container_id}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"custom_links":[]},"layout":{"x":8,"y":4,"width":4,"height":2}},{"id":5503512579152156,"definition":{"title":"Running Thread","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:tomcat.threads.max{*} by {runtime-id}","data_source":"metrics","name":"query1"}],"style":{"palette":"green","line_type":"dashed","line_width":"thick"},"display_type":"line"},{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:tomcat.threads.busy{*} by {runtime-id,service}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"bars"},{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"sum:tomcat.threads.busy{*}","data_source":"metrics","name":"query0"}],"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":6,"width":4,"height":2}},{"id":4770729391284464,"definition":{"title":"Average bytes received per container","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:ecs.fargate.net.bytes_rcvd{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":6,"width":4,"height":2}},{"id":7498718804661322,"definition":{"title":"Average outgoing packets dropped by container","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:ecs.fargate.net.packet.out_dropped{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":8,"y":6,"width":4,"height":2}}]},"layout":{"x":0,"y":10,"width":12,"height":9}},{"id":2215262711445224,"definition":{"title":"Application 현황(APM)","type":"group","background_color":"purple","show_title":true,"layout_type":"ordered","widgets":[{"id":3816437708584794,"definition":{"title":"HTTP 응답 코드별 비율","title_size":"16","title_align":"left","requests":[{"formulas":[{"formula":"query1"}],"response_format":"scalar","queries":[{"query":"sum:trace.servlet.request.hits{*} by {http.status_code}.as_count()","data_source":"metrics","name":"query1","aggregator":"sum"}]}],"type":"sunburst","legend":{"hide_percent":false,"type":"inline"}},"layout":{"x":0,"y":0,"width":4,"height":4}},{"id":2592143030116338,"definition":{"title":"API endpoint 별 호출 빈도 및 Latency","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"alias":"호출 빈도","formula":"query1"},{"alias":"p75 Latency","conditional_formats":[{"palette":"white_on_red","comparator":">","value":5},{"palette":"white_on_yellow","comparator":">","value":0.5},{"palette":"white_on_green","comparator":"<=","value":0.5}],"formula":"query2"},{"alias":"avg Latency","conditional_formats":[{"palette":"white_on_red","comparator":">","value":5},{"palette":"white_on_yellow","comparator":">","value":0.5},{"palette":"white_on_green","comparator":"<=","value":1}],"formula":"query3"},{"alias":"에러 빈도","conditional_formats":[{"palette":"red_on_white","comparator":">","value":10},{"palette":"yellow_on_white","comparator":">","value":1}],"limit":{"count":500,"order":"desc"},"formula":"query4"}],"response_format":"scalar","queries":[{"query":"sum:trace.servlet.request.hits{*} by {resource_name}.as_count()","data_source":"metrics","name":"query1","aggregator":"sum"},{"query":"p75:trace.servlet.request{*} by {resource_name}","data_source":"metrics","name":"query2","aggregator":"avg"},{"query":"avg:trace.servlet.request{*} by {resource_name}","data_source":"metrics","name":"query3","aggregator":"avg"},{"query":"sum:trace.servlet.request.errors{*} by {resource_name}.as_count()","data_source":"metrics","name":"query4","aggregator":"sum"}]}]},"layout":{"x":4,"y":0,"width":8,"height":4}},{"id":5530297809508944,"definition":{"title":"최근 발생한 Error 유형(Global Time)","title_size":"16","title_align":"left","requests":[{"query":{"query_string":"","data_source":"apm_issue_stream"},"response_format":"event_list","columns":[{"field":"details","width":"auto"},{"field":"count","width":"auto"},{"field":"volume","width":"auto"}]}],"type":"list_stream"},"layout":{"x":0,"y":4,"width":12,"height":4}},{"id":2909500077712139,"definition":{"title":" 요청 현황(Fargate) ","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"horizontal","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:trace.servlet.request.hits{*}.as_count().rollup(sum)","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"},{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:trace.servlet.request.errors{*}.as_count().rollup(sum)","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":8,"width":6,"height":3}},{"id":4883636180775853,"definition":{"title":" Latency 현황(fargate)","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"alias":"p50","formula":"query1"}],"response_format":"timeseries","queries":[{"query":"p50:trace.servlet.request{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"alias":"p75","formula":"query1"}],"response_format":"timeseries","queries":[{"query":"p75:trace.servlet.request{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"blue","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"alias":"p90","formula":"query1"}],"response_format":"timeseries","queries":[{"query":"p90:trace.servlet.request{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"alias":"p95","formula":"query1"}],"response_format":"timeseries","queries":[{"query":"p95:trace.servlet.request{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"query1","alias":"p99"}],"response_format":"timeseries","queries":[{"query":"p99:trace.servlet.request{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"query1","alias":"max"}],"response_format":"timeseries","queries":[{"query":"max:trace.servlet.request{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":6,"y":8,"width":6,"height":3}}]},"layout":{"x":0,"y":19,"width":12,"height":12}},{"id":4018934327861548,"definition":{"title":"Loadbalancer & WAF","type":"group","background_color":"vivid_orange","show_title":true,"layout_type":"ordered","widgets":[{"id":3428967942527076,"definition":{"title":"alb 요청 현황","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"},{"formula":"query3"},{"formula":"query4"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.httpcode_target_2xx{*}.as_count()","data_source":"metrics","name":"query1"},{"query":"sum:aws.applicationelb.httpcode_target_3xx{*}.as_count()","data_source":"metrics","name":"query2"},{"query":"sum:aws.applicationelb.httpcode_target_4xx{*}.as_count()","data_source":"metrics","name":"query3"},{"query":"sum:aws.applicationelb.httpcode_target_5xx{*}.as_count()","data_source":"metrics","name":"query4"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":0,"width":4,"height":3}},{"id":7895080022465330,"definition":{"title":"alb 응답시간 트렌드","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query0"},{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"max:aws.applicationelb.target_response_time.average{*}","data_source":"metrics","name":"query0"},{"query":"avg:aws.applicationelb.target_response_time.average{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","min":"auto","max":"auto"},"markers":[]},"layout":{"x":4,"y":0,"width":4,"height":3}},{"id":6203015228600054,"definition":{"title":"alb new/active connection","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"max:aws.applicationelb.new_connection_count{*}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"green","line_type":"dashed","line_width":"thin"},"display_type":"line"},{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"max:aws.applicationelb.active_connection_count{*}.as_count()","data_source":"metrics","name":"query0"}],"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":8,"y":0,"width":4,"height":3}},{"id":2347838642027182,"definition":{"title":"Rule별 허용된 요청 현황","title_size":"16","title_align":"left","requests":[{"formulas":[{"formula":"query1","limit":{"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:aws.wafv2.allowed_requests{*} by {rule}","data_source":"metrics","name":"query1","aggregator":"sum"}]}],"type":"sunburst","hide_total":false,"legend":{"type":"inline"}},"layout":{"x":0,"y":3,"width":6,"height":4}},{"id":1929270034567788,"definition":{"title":"Label별 차단된 현황","title_size":"16","title_align":"left","requests":[{"formulas":[{"formula":"query1","limit":{"order":"desc"}}],"response_format":"scalar","queries":[{"query":"sum:aws.wafv2.blocked_requests{*} by {labelname}","data_source":"metrics","name":"query1","aggregator":"sum"}]}],"type":"sunburst","hide_total":false,"legend":{"type":"inline"}},"layout":{"x":6,"y":3,"width":6,"height":4}},{"id":4641004185584314,"definition":{"title":"Rule별 허용된 요청 현황","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.wafv2.allowed_requests{*} by {rule}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":7,"width":6,"height":3}},{"id":1700301876264904,"definition":{"title":"Label별 차단된 현황","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"horizontal","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.wafv2.blocked_requests{*} by {labelname}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":6,"y":7,"width":6,"height":3}},{"id":3757892364407608,"definition":{"title":"HTTP 2xx Responses","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.httpcode_target_2xx{*} by {host}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":0,"y":10,"width":3,"height":2}},{"id":1167611450016790,"definition":{"title":"Active Connections","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.active_connection_count{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":3,"y":10,"width":3,"height":2}},{"id":2971161070778908,"definition":{"title":"HTTP 5xx Responses","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.httpcode_target_5xx{*} by {host}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":6,"y":10,"width":3,"height":2}},{"id":5882797621454374,"definition":{"title":"HTTP 4xx Responses","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.httpcode_target_4xx{*} by {host}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":9,"y":10,"width":3,"height":2}},{"id":1767044334317384,"definition":{"title":"New Connections","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:aws.applicationelb.new_connection_count{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":0,"y":12,"width":3,"height":2}},{"id":999890668577978,"definition":{"title":"HTTP 4xx Responses (resouces)","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"query2","limit":{"count":50,"order":"desc"}}],"response_format":"scalar","queries":[{"search":{"query":"@http.status_code:(404 OR 401 OR 400)"},"data_source":"spans","compute":{"aggregation":"count"},"name":"query2","indexes":["trace-search"],"group_by":[{"facet":"resource_name","sort":{"aggregation":"count","order":"desc"},"limit":50}]}]}]},"layout":{"x":3,"y":12,"width":3,"height":2}}]},"layout":{"x":0,"y":31,"width":12,"height":15}},{"id":8701676973648714,"definition":{"title":"JVM","type":"group","background_color":"pink","show_title":true,"layout_type":"ordered","widgets":[{"id":739707185586216,"definition":{"title":"GC Major & Minor Collection Count","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"},{"formula":"query2"}],"response_format":"timeseries","queries":[{"query":"avg:jvm.gc.minor_collection_count{*}","data_source":"metrics","name":"query1"},{"query":"avg:jvm.gc.major_collection_count{*}","data_source":"metrics","name":"query2"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true}},"layout":{"x":0,"y":0,"width":4,"height":2}},{"id":6388934181324700,"definition":{"title":"Non-Heap Usage","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"max:jvm.non_heap_memory{*}, min:jvm.non_heap_memory{*}, avg:jvm.non_heap_memory{*}","metadata":[{"expression":"min:jvm.non_heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Min"},{"expression":"max:jvm.non_heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Max"},{"expression":"avg:jvm.non_heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Avg"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"},{"q":"avg:jvm.non_heap_memory{*}","metadata":[{"expression":"avg:jvm.non_heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Avg"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false}},"layout":{"x":4,"y":0,"width":4,"height":2}},{"id":6870251955079186,"definition":{"title":"GC Old Gen Size","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"max:jvm.gc.old_gen_size{*}, min:jvm.gc.old_gen_size{*}, avg:jvm.gc.old_gen_size{*}","metadata":[{"expression":"avg:jvm.non_heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Avg"},{"expression":"max:jvm.gc.old_gen_size{$host,$env,$service,$runtime-id}","alias_name":"Max"},{"expression":"min:jvm.gc.old_gen_size{$host,$env,$service,$runtime-id}","alias_name":"Min"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"},{"q":"avg:jvm.gc.old_gen_size{*}","metadata":[{"expression":"avg:jvm.non_heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Avg"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":0,"width":4,"height":2}},{"id":7173924346736690,"definition":{"title":"Heap Usage","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"max:jvm.heap_memory{*}, min:jvm.heap_memory{*}","metadata":[{"expression":"min:jvm.heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Min"},{"expression":"max:jvm.heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Max"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"},{"q":"max:jvm.heap_memory_max{*}","metadata":[{"expression":"max:jvm.heap_memory_max{$host,$env,$service,$runtime-id}","alias_name":"Max jvm.heap_memory"}],"style":{"palette":"warm","line_type":"solid","line_width":"thin"},"display_type":"line"},{"q":"avg:jvm.heap_memory{*}","metadata":[{"expression":"avg:jvm.heap_memory{$host,$env,$service,$runtime-id}","alias_name":"Avg"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":2,"width":4,"height":2}},{"id":8855970354510594,"definition":{"title":"Non-Heap Usage (top 10)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"top(avg:jvm.non_heap_memory{*} by {runtime-id}, 10, \"mean\", \"desc\")","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false}},"layout":{"x":4,"y":2,"width":4,"height":2}},{"id":5771970558620018,"definition":{"title":"GC Old Gen Size (top 10)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"top(avg:jvm.gc.old_gen_size{*} by {runtime-id}, 10, \"mean\", \"desc\")","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":8,"y":2,"width":4,"height":2}},{"id":1285962945963248,"definition":{"title":"Heap Usage (top 10)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"max:jvm.heap_memory_max{*}","metadata":[{"expression":"max:jvm.heap_memory_max{$host,$env,$service,$runtime-id}","alias_name":"Max jvm.heap_memory"}],"style":{"palette":"warm","line_type":"solid","line_width":"thin"},"display_type":"line"},{"q":"top(avg:jvm.heap_memory{*} by {runtime-id}, 10, \"mean\", \"desc\")","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":4,"width":4,"height":2}},{"id":7573626799812036,"definition":{"title":"Number of Classes Loaded","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"max:jvm.loaded_classes{*}, min:jvm.loaded_classes{*}, avg:jvm.loaded_classes{*}","metadata":[{"expression":"avg:jvm.loaded_classes{$host,$env,$service,$runtime-id}","alias_name":"Avg"},{"expression":"max:jvm.loaded_classes{$host,$env,$service,$runtime-id}","alias_name":"Max"},{"expression":"min:jvm.loaded_classes{$host,$env,$service,$runtime-id}","alias_name":"Min"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"},{"q":"avg:jvm.loaded_classes{*}","metadata":[{"expression":"avg:jvm.loaded_classes{$host,$env,$service,$runtime-id}","alias_name":"Avg"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false}},"layout":{"x":4,"y":4,"width":4,"height":2}},{"id":7869505266634592,"definition":{"title":"Thread Count","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"max:jvm.thread_count{*}, min:jvm.thread_count{*}, avg:jvm.thread_count{*}","metadata":[{"expression":"avg:jvm.thread_count{$host,$env,$service,$runtime-id}","alias_name":"Avg"},{"expression":"max:jvm.thread_count{$host,$env,$service,$runtime-id}","alias_name":"Max"},{"expression":"min:jvm.thread_count{$host,$env,$service,$runtime-id}","alias_name":"Min"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"},{"q":"avg:jvm.thread_count{*}","metadata":[{"expression":"avg:jvm.thread_count{$host,$env,$service,$runtime-id}","alias_name":"Avg"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false}},"layout":{"x":8,"y":4,"width":4,"height":2}},{"id":8410772919868694,"definition":{"title":"GC New Gen Size","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"max:jvm.gc.eden_size{*}, min:jvm.gc.eden_size{*}, avg:jvm.gc.eden_size{*}","metadata":[{"expression":"max:jvm.gc.eden_size{$host,$env,$service,$runtime-id}","alias_name":"Max"},{"expression":"min:jvm.gc.eden_size{$host,$env,$service,$runtime-id}","alias_name":"Min"},{"expression":"avg:jvm.gc.eden_size{$host,$env,$service,$runtime-id}","alias_name":"Avg"}],"style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"},{"q":"avg:jvm.gc.eden_size{*}","metadata":[{"expression":"avg:jvm.gc.eden_size{$host,$env,$service,$runtime-id}","alias_name":"Avg"}],"style":{"palette":"grey","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":6,"width":4,"height":2}},{"id":7604943174458828,"definition":{"title":"Number of Classes Loaded (top 10)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"top(avg:jvm.loaded_classes{*} by {runtime-id}, 10, \"mean\", \"desc\")","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}]},"layout":{"x":4,"y":6,"width":4,"height":2}},{"id":844999945673988,"definition":{"title":"Thread Count (top 10)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"top(avg:jvm.thread_count{*} by {runtime-id}, 10, \"mean\", \"desc\")","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":false}},"layout":{"x":8,"y":6,"width":4,"height":2}},{"id":2471999895656586,"definition":{"title":"GC New Gen Size (top 10)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"top(avg:jvm.gc.eden_size{*} by {runtime-id}, 10, \"mean\", \"desc\")","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":8,"width":4,"height":2}},{"id":8916096182173874,"definition":{"title":"GC Major & Minor Collection Time","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"avg:jvm.gc.minor_collection_time{*}, avg:jvm.gc.major_collection_time{*}","style":{"palette":"grey","line_type":"dashed","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true}},"layout":{"x":4,"y":8,"width":4,"height":2}}]},"layout":{"x":0,"y":46,"width":12,"height":11,"is_column_break":true}},{"id":8479105989858860,"definition":{"title":"Tomcat","type":"group","background_color":"vivid_green","show_title":true,"layout_type":"ordered","widgets":[{"id":3932812165136176,"definition":{"title":"Tomcat threads","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:tomcat.threads.max{*} by {runtime-id}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool","line_type":"dashed","line_width":"thick"},"display_type":"line"},{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:tomcat.threads.busy{*} by {runtime-id,service}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"},{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"sum:tomcat.threads.busy{*}","data_source":"metrics","name":"query0"}],"style":{"palette":"orange","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":0,"width":3,"height":2}},{"id":6021408100947432,"definition":{"title":"Tomcat average processing time","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:tomcat.processing_time{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":3,"y":0,"width":3,"height":2}},{"id":168475193193010,"definition":{"title":"Tomcat bytes sent and received rate (per sec)","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:tomcat.bytes_sent{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"-query1"}],"response_format":"timeseries","queries":[{"query":"sum:tomcat.bytes_rcvd{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":6,"y":0,"width":3,"height":2}},{"id":980159537375074,"definition":{"title":"Tomcat errors rate (per sec)","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:tomcat.error_count{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"yaxis":{"include_zero":false},"markers":[]},"layout":{"x":9,"y":0,"width":3,"height":2}}]},"layout":{"x":0,"y":57,"width":12,"height":3}},{"id":6019974211379924,"definition":{"title":"Database","type":"group","background_color":"orange","show_title":true,"layout_type":"ordered","widgets":[{"id":4597231407907653,"definition":{"title":"DB 쿼리 호출 빈도","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:trace.oracle.query.hits{*}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"},{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"sum:trace.oracle.query.errors{*}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[],"custom_links":[{"override_label":"hosts","is_hidden":false,"link":"https://app.datadoghq.com/screen/integration/240/oracle-database-overview?tpl_var_host=scmat-ibs-db&from_ts=1643335478337&to_ts=1643336378337&live=true"}]},"layout":{"x":0,"y":0,"width":6,"height":3}},{"id":6064830019037678,"definition":{"title":"OracleDB 쿼리 Latency","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1","alias":"p50"}],"response_format":"timeseries","queries":[{"query":"p50:trace.oracle.query{*}","data_source":"metrics","name":"query1"}],"display_type":"line"},{"formulas":[{"formula":"query1","alias":"p75"}],"response_format":"timeseries","queries":[{"query":"p75:trace.oracle.query{*}","data_source":"metrics","name":"query1"}],"display_type":"line"},{"formulas":[{"formula":"query1","alias":"p90"}],"response_format":"timeseries","queries":[{"query":"p90:trace.oracle.query{*}","data_source":"metrics","name":"query1"}],"display_type":"line"},{"formulas":[{"formula":"query1","alias":"p95"}],"response_format":"timeseries","queries":[{"query":"p95:trace.oracle.query{*}","data_source":"metrics","name":"query1"}],"display_type":"line"},{"formulas":[{"formula":"query1","alias":"p99"}],"response_format":"timeseries","queries":[{"query":"p99:trace.oracle.query{*}","data_source":"metrics","name":"query1"}],"display_type":"line"},{"formulas":[{"formula":"query1","alias":"max"}],"response_format":"timeseries","queries":[{"query":"max:trace.oracle.query{*}","data_source":"metrics","name":"query1"}],"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[],"custom_links":[{"override_label":"hosts","is_hidden":false,"link":"https://app.datadoghq.com/screen/integration/240/oracle-database-overview?tpl_var_host=scmat-ibs-db&from_ts=1643335478337&to_ts=1643336378337&live=true"}]},"layout":{"x":6,"y":0,"width":6,"height":3}},{"id":2510341219286847,"definition":{"title":"Oracle DB 쿼리 수행시간 분포도","title_size":"16","title_align":"left","show_legend":false,"type":"distribution","xaxis":{"max":"p95","min":"auto"},"yaxis":{"max":"auto","scale":"linear","min":"auto"},"markers":[{"display_type":"x_axis_percentile","value":"50"},{"display_type":"x_axis_percentile","value":"75"},{"display_type":"x_axis_percentile","value":"90"},{"display_type":"x_axis_percentile","value":"95"},{"display_type":"x_axis_percentile","value":"99"}],"requests":[{"apm_stats_query":{"primary_tag":"","row_type":"service","name":"oracle.query","service":"oracle","env":"prd"}}]},"layout":{"x":0,"y":3,"width":12,"height":3}},{"id":8720302028980814,"definition":{"title":"Oracle Query별 처리시간","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"avg:trace.oracle.query.hits{*} by {resource_name}.as_count()","data_source":"metrics","name":"query0"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":6,"width":12,"height":3}},{"id":1669689814950712,"definition":{"title":"Oracle Query별 처리시간","title_size":"16","title_align":"left","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"query":"p95:trace.oracle.query{*} by {resource_name}","data_source":"metrics","name":"query0"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":9,"width":6,"height":3}},{"id":5338127278763654,"definition":{"title":"Oracle Query (오래걸린 쿼리 Top)","title_size":"16","title_align":"left","type":"toplist","requests":[{"formulas":[{"formula":"query0","limit":{"count":50,"order":"desc"}}],"conditional_formats":[{"comparator":">","palette":"white_on_red","value":100}],"response_format":"scalar","queries":[{"query":"p95:trace.oracle.query{*} by {resource_name}","data_source":"metrics","name":"query0","aggregator":"avg"}]}]},"layout":{"x":6,"y":9,"width":6,"height":3}},{"id":56992708852456,"definition":{"title":"Oracle Query별 처리시간 (소요시간 x 호출 빈도)","title_size":"16","title_align":"left","show_legend":false,"type":"timeseries","requests":[{"formulas":[{"formula":"query0 * query1"}],"response_format":"timeseries","queries":[{"query":"p95:trace.oracle.query{*} by {resource_name}","data_source":"metrics","name":"query0"},{"query":"sum:trace.oracle.query.hits{*} by {resource_name}.as_count()","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}]},"layout":{"x":0,"y":12,"width":6,"height":3}},{"id":3414423373626246,"definition":{"title":"Oracle Query별 처리시간 (소요시간 x 호출 빈도)","title_size":"16","title_align":"left","type":"toplist","requests":[{"formulas":[{"formula":"query0 * query1","limit":{"count":100,"order":"desc"}}],"conditional_formats":[{"comparator":">","palette":"white_on_red","value":100}],"response_format":"scalar","queries":[{"query":"p95:trace.oracle.query{*} by {resource_name}","data_source":"metrics","name":"query0","aggregator":"avg"},{"query":"sum:trace.oracle.query.hits{*} by {resource_name}.as_count()","data_source":"metrics","name":"query1","aggregator":"avg"}]}]},"layout":{"x":6,"y":12,"width":6,"height":3}},{"id":8952743599511466,"definition":{"title":"OracleDB Slow 쿼리 호출 빈도 (300ms 이상)","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query0"}],"response_format":"timeseries","queries":[{"search":{"query":"*  @duration:>30000000"},"data_source":"spans","compute":{"aggregation":"count"},"name":"query0","indexes":["trace-search"],"group_by":[{"facet":"resource_name","sort":{"aggregation":"count","order":"desc"},"limit":10}]}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"yaxis":{"include_zero":true,"scale":"linear","label":"","min":"auto","max":"auto"},"markers":[]},"layout":{"x":0,"y":15,"width":6,"height":3}},{"id":7890837829372906,"definition":{"title":"Oracle Query별 처리시간","title_size":"16","title_align":"left","type":"query_table","requests":[{"formulas":[{"formula":"query0","conditional_formats":[{"palette":"white_on_red","value":3,"comparator":">"},{"palette":"white_on_yellow","value":0.5,"comparator":">"}],"limit":{"count":100,"order":"desc"}},{"formula":"query1"}],"response_format":"scalar","queries":[{"query":"avg:trace.oracle.query{*,!resource_name:select_from_dual} by {resource_name}","data_source":"metrics","name":"query0","aggregator":"avg"},{"query":"avg:trace.oracle.query.hits{*,!resource_name:select_from_dual} by {resource_name}.as_count().rollup(sum)","data_source":"metrics","name":"query1","aggregator":"sum"}]}]},"layout":{"x":6,"y":15,"width":6,"height":3}}]},"layout":{"x":0,"y":60,"width":12,"height":19}},{"id":5609693888548768,"definition":{"type":"note","content":"Database Session Activity","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"},"layout":{"x":0,"y":0,"width":4,"height":1}},{"id":5988618042351980,"definition":{"type":"note","content":"Database Disk Activity","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"},"layout":{"x":4,"y":0,"width":4,"height":1}},{"id":7378620556993922,"definition":{"type":"note","content":"Database and Buffer Activity","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"},"layout":{"x":8,"y":0,"width":4,"height":1}},{"id":3619153241417366,"definition":{"title":"Active Session Count","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.active_sessions{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"custom_links":[]},"layout":{"x":0,"y":1,"width":4,"height":2}},{"id":5991350651105432,"definition":{"title":"Physical Disk Reads","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.physical_reads{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":4,"y":1,"width":4,"height":2}},{"id":8176433549395594,"definition":{"title":"SQL Service Response Time (seconds)","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.service_response_time{*}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]},"layout":{"x":8,"y":1,"width":4,"height":2}},{"id":3439607529765062,"definition":{"title":"Database Wait Time Ratio (%)","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.database_wait_time_ratio{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]},"layout":{"x":0,"y":3,"width":4,"height":2}},{"id":6030555136250272,"definition":{"title":"Total Session Count","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:oracle.session_count{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"custom_links":[]},"layout":{"x":4,"y":3,"width":4,"height":2}},{"id":8411468121595468,"definition":{"title":"Physical Disk Writes","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.physical_writes{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":8,"y":3,"width":4,"height":2}},{"id":5001213239424230,"definition":{"title":"In-Memory Sorts Ratio (%)","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.memory_sorts_ratio{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]},"layout":{"x":0,"y":5,"width":4,"height":2}},{"id":4902714741393452,"definition":{"title":"Shared Pool Free Memory (%)","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.shared_pool_free{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]},"layout":{"x":4,"y":5,"width":4,"height":2}},{"id":4563706104090356,"definition":{"title":"Session Limit Usage (%)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:oracle.session_limit_usage{*} by {host}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]},"layout":{"x":8,"y":5,"width":4,"height":2}},{"id":5718415727203510,"definition":{"title":"Sorts on Disk","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:oracle.disk_sorts{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":0,"y":7,"width":4,"height":2}},{"id":3480398033462106,"definition":{"title":"User Rollbacks","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.user_rollbacks{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":4,"y":7,"width":4,"height":2}},{"id":8434069355762152,"definition":{"title":"Enqueue Timeouts","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:oracle.enqueue_timeouts{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":8,"y":7,"width":4,"height":2}},{"id":2141088112523594,"definition":{"title":"Logons Per Second","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:oracle.logons{*} by {host}","style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"area"}],"custom_links":[]},"layout":{"x":0,"y":9,"width":4,"height":2}},{"id":3840305084012324,"definition":{"title":"CPU usage (%)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"avg:system.cpu.idle{*}, avg:system.cpu.system{*}, avg:system.cpu.iowait{*}, avg:system.cpu.user{*}, avg:system.cpu.stolen{*}"}]},"layout":{"x":4,"y":9,"width":4,"height":2}},{"id":7653865430648234,"definition":{"title":"Network traffic (bytes per sec)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"sum:system.net.bytes_rcvd{*}"},{"q":"0 - sum:system.net.bytes_sent{*}"}]},"layout":{"x":8,"y":9,"width":4,"height":2}},{"id":8724941603257872,"definition":{"title":"Tablespace Usage (%)","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:oracle.tablespace.in_use{*} by {tablespace,host}","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"markers":[{"value":"y = 85","display_type":"warning dashed"},{"value":"y = 97","display_type":"error dashed"}],"custom_links":[]},"layout":{"x":0,"y":11,"width":4,"height":2}},{"id":1585838284563294,"definition":{"title":"Full Table Scans","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:oracle.long_table_scans{*} by {host}","data_source":"metrics","name":"query1"}],"style":{"palette":"dog_classic","line_type":"solid","line_width":"normal"},"display_type":"bars"}],"custom_links":[]},"layout":{"x":4,"y":11,"width":4,"height":2}},{"id":4747598565863148,"definition":{"title":"Tablespace Size","title_size":"16","title_align":"left","type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":500,"order":"desc"}}],"style":{"palette":"cool"},"response_format":"scalar","queries":[{"query":"avg:oracle.tablespace.size{*} by {tablespace}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"custom_links":[]},"layout":{"x":8,"y":11,"width":4,"height":2}},{"id":6439211365910684,"definition":{"title":"Disk latency (by device)","show_legend":true,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"max:system.io.await{*} by {device}","data_source":"metrics","name":"query1"}]}]},"layout":{"x":0,"y":13,"width":4,"height":2}},{"id":5342087778755690,"definition":{"title":"Disk usage by device (%)","show_legend":true,"legend_layout":"auto","type":"timeseries","requests":[{"q":"max:system.disk.in_use{*} by {device} * 100","display_type":"line"}],"markers":[{"label":"full","value":"y = 100","display_type":"error dashed"}]},"layout":{"x":4,"y":13,"width":4,"height":2}},{"id":398647480531144,"definition":{"title":"Temp Tablespace Utilization","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","type":"timeseries","requests":[{"q":"avg:oracle.temp_space_used{*} by {host}","style":{"palette":"cool","line_type":"solid","line_width":"normal"},"display_type":"line"}],"custom_links":[]},"layout":{"x":8,"y":13,"width":4,"height":2}}],"template_variables":[{"name":"service","default":"*","prefix":"service","available_values":[]},{"name":"env","default":"*","prefix":"env","available_values":[]},{"name":"cluster","default":"*","prefix":"cluster","available_values":[]},{"name":"servicename","default":"*","prefix":"servicename","available_values":[]}],"layout_type":"ordered","is_read_only":false,"notify_list":[],"reflow_type":"fixed","id":"9dq-w4d-4hx"}